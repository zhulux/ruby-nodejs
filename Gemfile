source 'https://gems.ruby-china.com'

gem 'rails', '~> 5.1.6'
gem 'pg'

## assets
gem 'webpacker', '~> 2.0'
gem 'uglifier', '>= 2.6.0'
gem 'jquery-rails', '~> 4.2'
gem 'coffee-rails', '~> 4.2'
gem 'sass-rails', '~> 5.0'
gem 'sassc-rails'
gem 'bourbon', '4.2.6' # A Lightweight Sass Tool Set
gem 'autoprefixer-rails'
gem 'ejs'
gem 'gon', '~> 6.2'
gem 'sprockets', '~> 3.7.2'

gem 'bootstrap-sass'
gem 'bootstrap-tagsinput-rails'
gem 'lodash-rails'
gem 'select2-rails', '~> 3.5.9.1' # WARNING: DO NOT UPGRADE TO VERSION 4 WITHOUT FULLY TESTING
gem 'font-awesome-sass', '~> 4.7.0'
gem 'font-ionicons-rails'
gem 'messengerjs-rails', '~> 1.4.1'
gem 'jquery-slick-rails'
gem 'jquery_block_ui', '~> 0.0.1'
gem 'client_side_validations'

## json
gem 'jbuilder', '~> 2.5'

## doc
gem 'sdoc', '~> 0.4.0', group: :doc
gem 'yard'

## view helper
gem 'active_link_to', '1.0.3' # Rails view helper to manage "active" state of a link

## image handler
gem 'chunky_png' # Read/write access to PNG images in pure Ruby
gem 'geo_pattern' # Create beautiful generative geometric background images from a string
gem 'link_thumbnailer' # Get web page thumb
gem 'mini_magick'
gem 'carrierwave', '~> 1.1.0'
gem 'carrierwave-base64', '~> 2.3', '>= 2.3.1'
gem 'carrierwave-data-uri', '~> 0.2.0'
gem 'carrierwave-qiniu', '~> 1.1.5'

## http client
gem 'httparty'
gem 'http'
gem 'rest-client'

gem 'acts-as-taggable-on', '~> 5.0'
gem 'public_activity'
gem 'pundit'
gem 'kaminari'
gem 'icalendar'
gem 'versionist' # A plugin for versioning Rails based RESTful APIs.
gem 'paper_trail', '~> 8.1.1' # Track changes to your models' data. Good for auditing or versioning.
gem 'interactor', '~> 3.0' # https://github.com/collectiveidea/interactor

gem 'nokogiri', '>= 1.8.1'
gem 'selenium-webdriver', '~> 3.4.0'

gem 'data_migrate', '~> 3.2', '>= 3.2.2' # Migrate and update data alongside your database structure.
gem 'ruby-pinyin'
gem 'jieba_rb' # 结巴分词
gem 'rqrcode', '~> 0.10.1'

gem 'wechat', "~> 0.8.12"

gem 'daemons' # Ruby daemons gem official repository

# search engine
gem 'ransack', '~> 1.8.2'
gem 'simple_form'
gem 'nested_form_fields'
gem 'cocoon'
gem 'simple_form_ransack'
gem 'elasticsearch', '~> 5'

## ActiveRecord and ActiveModel extension
gem 'pluck_to_hash' # Extend ActiveRecord pluck to return array of hashes
gem 'activerecord-reputation-system', '3.0.1'
gem 'ancestry', '~> 3.0', '>= 3.0.1' # Organise ActiveRecord model into a tree structure
gem 'strip_attributes' # An ActiveModel extension that automatically strips all attributes of leading and trailing whitespace before validation. If the attribute is blank, it strips the value to nil
gem 'annotate' # Annotate ActiveRecord models as a gem

gem 'hexapdf', github: 'shibocuhk/hexapdf', ref: 'cdb7416e9269bc0290f86700829598f8c81e9e7a' # Versatile PDF creation and manipulation for Ruby
gem 'pdf_watermark', '~> 0.2.3' # Add a watermark to a PDF file
gem 'axlsx', github: 'zhulux/axlsx'
gem 'axlsx_rails'
gem 'spreadsheet', require: false # https://github.com/zdavatz/spreadsheet
gem 'hologram', github: 'CRAlpha/hologram' # A markdown based documentation system for style guides
gem 'redcarpet' # The safe Markdown parser, reloaded.

gem 'jwt'
gem 'bcrypt', '~> 3.1.7'
gem 'aasm', source: 'https://gems.ruby-china.com/' # State machines for Ruby classes
gem 'husl', '~> 0.1.0' # HUSL is implemented as a set of functions to convert colors between RGB, HUSL and HUSLp.
gem 'rubyzip', '>= 1.2.1'


gem 'remove_emoji'


gem 'sentry-raven', '>= 2.2' # Raven is a Ruby client for Sentry


## apm
gem 'elastic-apm'

## auth
gem 'omniauth', '~> 1.3.2'
gem 'omniauth-wechat-oauth2'

gem 'puma', '~> 3.11'

gem 'rack-utf8_sanitizer'
gem 'sanitize', '~> 4.6.3' # Whitelist-based Ruby HTML and CSS sanitizer.
gem 'loofah', '>= 2.2.3' # HTML/XML manipulation and sanitization based on Nokogiri
gem 'request_store', '~> 1.3', '>= 1.3.2' # Per-request global storage for Rack
gem 'rails-html-sanitizer', '~> 1.0.4'
gem 'mime-types', '<3.0'

## push notification
gem 'jpush'
gem 'rpush' # iOS push notification

## redis
gem 'hiredis', '~> 0.6.0'
gem 'redis', '~> 3.0'
gem 'redis-namespace'
gem 'redis-objects'
gem 'redis-rails' # https://github.com/redis-store/redis-rails

## cache
gem 'actionpack-action_caching' # @see https://github.com/rails/actionpack-action_caching

## sidekiq
gem 'sidekiq', '< 6'
gem 'sidekiq-cron', '~> 0.6.3'
gem 'wisper', '2.0.0' # A micro library providing Ruby objects with Publish-Subscribe capabilities
gem 'wisper-sidekiq'
gem 'sidekiq-throttler', github: 'zhulux/sidekiq-throttler'
gem 'sidekiq-limit_fetch'

## email
gem 'sendgrid-ruby'
gem 'premailer'
gem 'email_reply_parser'
gem 'postal-ruby', '~> 1.0'
gem 'tnef', github: 'shibocuhk/tnef', ref: '0a53863' # a ruby wrapper around the tnef library

## env
gem 'dotenv-rails'

gem 'geo_ip', github: 'zhulux/GeoIP'
gem 'geo_phone', github: 'shibocuhk/GeoPhone', ref: '7862d79'
gem 'user_agent_parser'

# sensors sdk
gem 'sensors_analytics_sdk' # https://github.com/sensorsdata/sa-sdk-ruby

group :development, :staging do
  gem 'rack-mini-profiler', '~> 1.0', require: false # https://github.com/MiniProfiler/rack-mini-profiler
  gem 'memory_profiler'
  gem 'flamegraph'
  gem 'stackprof'
end

group :development, :staging, :test, :integration do
  gem 'awesome_print'
  gem 'pry-rails'
  gem 'colorize'
end

group :development, :test, :integration do
  gem 'rspec-rails'
  gem 'factory_bot_rails'
  gem 'bullet' # n+1 query limit
  gem 'tzinfo-data', platforms: %i(mingw mswin x64_mingw jruby)
  gem 'rubocop'
  gem 'rubocop-checkstyle_formatter'
  gem 'reek'
  gem 'capybara', '~> 2.13'
  gem 'poltergeist' # driver for capybara on WebKit based browser, provided by PhantomJS.
  gem 'json-schema'
  gem 'json_schema_tools', github: 'shibocuhk/json_schema_tools', branch: 'master'
  gem 'image_size'
  gem 'pry-byebug'
  gem 'parallel_tests'
  gem 'rspec_junit_formatter'
end

group :development do
  gem 'mina', github: 'mina-deploy/mina', branch: 'master'
  gem 'mina-puma', github: 'untitledkingdom/mina-puma', require: false
  gem 'mina-multistage', require: false
  gem 'web-console', platforms: %i(ruby jruby)
  gem 'meta_request'
  gem 'binding_of_caller'
  gem 'http_logger'
  gem 'guard-rspec'
  gem 'guard-hologram', github: 'CRAlpha/guard-hologram', require: false
  gem 'spring'
  gem 'spring-commands-rspec'
  gem 'listen', '~> 3.0.5'
  gem 'spring-watcher-listen'
  gem 'guard-livereload', '~> 2.5', require: false
  gem 'foreman'
  gem 'bootsnap', require: false
end

group :test, :integration do
  gem 'database_cleaner'
  gem 'faker'
  gem 'assert_json'
  gem 'shoulda-matchers'
  gem 'capybara-select2'
  gem 'rack_session_access'
  gem 'capybara-screenshot'
  gem 'rails-controller-testing'
  gem 'kaminari-rspec'
  gem 'fuubar'
  gem 'simplecov'
end

group :test do
  gem 'simplecov'
end

group :production do
  gem 'lograge'
end

gem 'optimus_data', '~> 67.0.0', source: 'https://gems.zhulux.com/private'
